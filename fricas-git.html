
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>FriCAS git repository (svn-mirror) &#8212; FriCAS 1.3.5</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/style.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Citation" href="citation.html" />
    <link rel="prev" title="SPAD Style Guide" href="spadstyleguide.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="citation.html" title="Citation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="spadstyleguide.html" title="SPAD Style Guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FriCAS 1.3.5</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="development.html" accesskey="U">Development</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="fricas-git-repository-svn-mirror">
<span id="fricas-mirror"></span><h1>FriCAS git repository (svn-mirror)<a class="headerlink" href="#fricas-git-repository-svn-mirror" title="Permalink to this headline">¶</a></h1>
<p>We describe here how one can setup a mirror of the official
sourceforge repository of FriCAS. Since this is time consuming and
only necessary to do once, the text describing the setup is here only
as a record of how to reproduce it. Don’t consider doing this
yourself. It’s a waste of time. Rather follow
<a class="reference internal" href="#how-to-work-with-the-fricas-mirror">How to work with the FriCAS mirror</a>
in order to more quickly setup a git repository
that has the same properties as the one you get here.</p>
<p>Since 07-May-2014, the official git repository (mirror of the official
SVN sourcforge repository) is <a class="reference external" href="https://github.com/fricas/fricas">https://github.com/fricas/fricas</a>.</p>
<div class="section" id="relocation-of-the-fricas-svn-repository">
<h2>Relocation of the FriCAS SVN repository<a class="headerlink" href="#relocation-of-the-fricas-svn-repository" title="Permalink to this headline">¶</a></h2>
<p>31-Mar-2013: Due to SourceForge Project Upgrade (<a class="reference external" href="https://groups.google.com/forum/?hl=en&amp;fromgroups=#!topic/fricas-devel/JZMu4iO1M1w">see mail archive</a>),
the git repository had to be relocated to the new location. The chosen
method was to use “rewriteRoot” as described at
<a class="reference external" href="https://git.wiki.kernel.org/index.php/GitSvnSwitch">https://git.wiki.kernel.org/index.php/GitSvnSwitch</a>.</p>
<div class="section" id="pros">
<h3>Pros<a class="headerlink" href="#pros" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The method is much simpler then what is described at
<a class="reference external" href="http://stackoverflow.com/questions/268736/git-svn-whats-the-equivalent-to-svn-switch-relocate">http://stackoverflow.com/questions/268736/git-svn-whats-the-equivalent-to-svn-switch-relocate</a>.
It allows for recreation of the git repo from scratch by using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">svn</span> <span class="n">init</span> <span class="o">--</span><span class="n">rewrite</span><span class="o">-</span><span class="n">root</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">fricas</span><span class="o">.</span><span class="n">svn</span><span class="o">.</span><span class="n">sourceforge</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">svnroot</span><span class="o">/</span><span class="n">fricas</span> <span class="o">...</span>
</pre></div>
</div>
<p>See below.</p>
</div></blockquote>
</div>
<div class="section" id="cons">
<h3>Cons<a class="headerlink" href="#cons" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>The <code class="docutils literal notranslate"><span class="pre">git-svn-id</span></code> will no longer point to the actual SVN
repository place, but from now on must be considered as just an
identifier.</div></blockquote>
</div>
</div>
<div class="section" id="recreation-of-the-git-repository">
<h2>Recreation of the git repository<a class="headerlink" href="#recreation-of-the-git-repository" title="Permalink to this headline">¶</a></h2>
<p>30-Sep-2019: Two errors in the current git repository have been
detected.</p>
<blockquote>
<div><ul>
<li><p class="first">The SVN commit r1922 from <code class="docutils literal notranslate"><span class="pre">2015-07-26</span> <span class="pre">16:41:45</span></code> was
mysteriously recorded in the git repository as
<code class="docutils literal notranslate"><span class="pre">2015-07-16</span> <span class="pre">16:15:34</span></code>.</p>
</li>
<li><p class="first">The SVN commits</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r2371</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">05</span> <span class="mi">11</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mi">28</span> <span class="n">Improve</span> <span class="n">Texmacs</span> <span class="n">interface</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r2372</span>  <span class="mi">2018</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">05</span> <span class="mi">17</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">56</span> <span class="n">Fix</span> <span class="s1">&#39;write&#39;</span> <span class="n">to</span> <span class="n">Postscript</span> <span class="n">file</span>
</pre></div>
</div>
<p>appeared together in the git repository in <a class="reference external" href="https://github.com/fricas/fricas/commit/eaeb4f937325a84d5c297fe973dcc6ee8f84b591">eaeb4f93</a>.</p>
</li>
</ul>
</div></blockquote>
<p>Since we want to keep the history (at list of the mainline) intact and
since <code class="docutils literal notranslate"><span class="pre">hemmecke</span></code> now wants to be listed with <code class="docutils literal notranslate"><span class="pre">ralf&#64;hemmecke.org</span></code>
as e-mail address, it has been decided to rebuild the whole git
repository.</p>
<p>In fact, the new repository has identical hashes with the old
(corrupted one) up to <a class="reference external" href="https://github.com/fricas/fricas/commit/996bb9d0b304aab140481298a329451ad8d7d4e0">996bb9d0</a>
(r287) and (if only the mainline is considered) even up to <a class="reference external" href="https://github.com/fricas/fricas/commit/03e23911cb2c79507892f15d21982311f442340f">03e23911</a>
(r413).</p>
</div>
<div class="section" id="creating-a-mirror-of-fricas-from-scratch">
<h2>Creating a mirror of FriCAS from scratch<a class="headerlink" href="#creating-a-mirror-of-fricas-from-scratch" title="Permalink to this headline">¶</a></h2>
<p><em>This step is only necessary, for creating a git repository that is
identical to the one currently at github if for some reason the</em>
<a class="reference external" href="https://github.com/fricas/fricas">https://github.com/fricas/fricas</a>
<em>repository is corrupt.</em></p>
<p><em>However, the errors that are currently still part of the git
repository and marked with</em> <code class="docutils literal notranslate"><span class="pre">wrong/</span></code> <em>will be lost.</em></p>
<p>First create a directory <code class="docutils literal notranslate"><span class="pre">fricas</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>mkdir -p $HOME/v/autosync/fricas
cd       $HOME/v/autosync/fricas
</pre></div>
</div>
<p>From now on the steps are done inside a directory called “fricas”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># original URL (now only used as idenifier)</span>
<span class="n">GITSVNID</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">fricas</span><span class="o">.</span><span class="n">svn</span><span class="o">.</span><span class="n">sourceforge</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">svnroot</span><span class="o">/</span><span class="n">fricas</span>
<span class="c1"># new URL after relocation</span>
<span class="n">SVNREPO</span><span class="o">=</span><span class="n">svn</span><span class="o">+</span><span class="n">ssh</span><span class="p">:</span><span class="o">//</span><span class="n">hemmecke</span><span class="nd">@svn</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">sf</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">p</span><span class="o">/</span><span class="n">fricas</span><span class="o">/</span><span class="n">code</span> <span class="c1"># read+write</span>
<span class="c1"># SVNREPO=svn://svn.code.sf.net/p/fricas/code # read-only</span>
</pre></div>
</div>
<p>Since the directory layout of FriCAS is non-standard, we must specify
the layout for <code class="docutils literal notranslate"><span class="pre">git-svn</span></code> to work correctly.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>LAYOUT=&quot;--prefix svn/ -T trunk -t releases -b branches&quot;
git svn init $LAYOUT --rewrite-root $GITSVNID $SVNREPO
</pre></div>
</div>
<p>Configure the initial <code class="docutils literal notranslate"><span class="pre">authors.txt</span></code> file that contains all people
that have committed to the SVN repository.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">&lt;&lt;</span><span class="s1">&#39;EOF&#39;</span> <span class="o">&gt;</span> <span class="o">.</span><span class="n">git</span><span class="o">/</span><span class="n">authors</span><span class="o">.</span><span class="n">txt</span>
<span class="n">billpage</span> <span class="o">=</span> <span class="n">Bill</span> <span class="n">Page</span> <span class="o">&lt;</span><span class="n">bill</span><span class="o">.</span><span class="n">page</span><span class="nd">@newsynthesis</span><span class="o">.</span><span class="n">org</span><span class="o">&gt;</span>
<span class="n">cerambyx</span> <span class="o">=</span> <span class="n">Franz</span> <span class="n">Lehner</span> <span class="o">&lt;</span><span class="n">cerambyx</span><span class="nd">@users</span><span class="o">.</span><span class="n">sourceforge</span><span class="o">.</span><span class="n">net</span><span class="o">&gt;</span>
<span class="n">cahirwpz</span> <span class="o">=</span> <span class="n">Krystian</span> <span class="n">Bacławski</span> <span class="o">&lt;</span><span class="n">krystian</span><span class="o">.</span><span class="n">baclawski</span><span class="nd">@gmail</span><span class="o">.</span><span class="n">com</span><span class="o">&gt;</span>
<span class="n">hemmecke</span> <span class="o">=</span> <span class="n">Ralf</span> <span class="n">Hemmecke</span> <span class="o">&lt;</span><span class="n">ralf</span><span class="nd">@hemmecke</span><span class="o">.</span><span class="n">org</span><span class="o">&gt;</span>
<span class="n">mantepse</span> <span class="o">=</span> <span class="n">Martin</span> <span class="n">Rubey</span> <span class="o">&lt;</span><span class="n">mantepse</span><span class="nd">@users</span><span class="o">.</span><span class="n">sourceforge</span><span class="o">.</span><span class="n">net</span><span class="o">&gt;</span>
<span class="n">oldk1331</span> <span class="o">=</span> <span class="n">Qian</span> <span class="n">Yun</span> <span class="o">&lt;</span><span class="n">oldk1331</span><span class="nd">@gmail</span><span class="o">.</span><span class="n">com</span><span class="o">&gt;</span>
<span class="n">whebisch</span> <span class="o">=</span> <span class="n">Waldek</span> <span class="n">Hebisch</span> <span class="o">&lt;</span><span class="n">hebisch</span><span class="nd">@math</span><span class="o">.</span><span class="n">uni</span><span class="o">.</span><span class="n">wroc</span><span class="o">.</span><span class="n">pl</span><span class="o">&gt;</span>
<span class="n">EOF</span>

<span class="n">git</span> <span class="n">config</span> <span class="n">svn</span><span class="o">.</span><span class="n">authorsfile</span> <span class="o">.</span><span class="n">git</span><span class="o">/</span><span class="n">authors</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>First create a clone of the SVN repository on your local computer.
That will take a while until all commits are transmitted from
SourceForge.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">svn</span> <span class="n">fetch</span>
</pre></div>
</div>
<p>Create a new project <code class="docutils literal notranslate"><span class="pre">fricas</span></code> at <a class="reference external" href="https://github.org">github.org</a> and push the repo to github. (Of course you
have to replace the account name <code class="docutils literal notranslate"><span class="pre">fricas</span></code> by your github account.)
We just make a one-to-one copy (mirror) of the local repository from above.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">fricas</span><span class="o">/</span><span class="n">fricas</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">push</span> <span class="o">--</span><span class="n">mirror</span>
</pre></div>
</div>
<p><a class="reference external" href="http://hemmecke.org">Ralf Hemmecke</a> has set up the above mirror so
that it will be automatically synchronized with the FriCAS sourceforge
SVN repository in not more than one hour after the commit mail is
received on his email account. Actually, it should be immediate.</p>
<p>In fact, update mechanism only keeps the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch in sync
with the SVN <code class="docutils literal notranslate"><span class="pre">trunk</span></code>. The tags for the releases have to be created
and pushed manually to github.</p>
</div>
<div class="section" id="how-to-work-with-the-fricas-mirror">
<h2>How to work with the FriCAS mirror<a class="headerlink" href="#how-to-work-with-the-fricas-mirror" title="Permalink to this headline">¶</a></h2>
<p>In order to work with the fricas source code you will basically have
two repositories, a public one at github (which is a fork of the
above <a class="reference external" href="http://github.com/fricas/fricas">http://github.com/fricas/fricas</a>) and a private one on your local
computer.</p>
<p>So from your point of view there are 3 repositories:</p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:fricas/fricas.git (ORIG)</li>
<li><a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:YOURNAME/fricas.git (PUB)</li>
<li>The repository on your local computer (LOC)</li>
</ol>
</div></blockquote>
<p>After you have created PUB from ORIG, and LOC from PUB, you basically
only work on LOC and publish your changes (i.e. <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code>) to PUB
if you feel that others should see your code. Other people can then
get (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code>) your code from PUB into their respective local
repository. Yes, it’s called distributed version control. You have the
full history on your local computer.</p>
<p>Here is how to create PUB and LOC.</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Create an account at <a class="reference external" href="https://github.com">https://github.com</a>.</p>
</li>
<li><p class="first">Fork the “official” FriCAS mirror at github, i.e. create your
PUB.</p>
<ol class="arabic simple">
<li>Log into github.</li>
<li>Go to <a class="reference external" href="http://github.com/fricas/fricas">http://github.com/fricas/fricas</a>
and press the “Fork” button.
If all goes well you will now have a clone at
<code class="docutils literal notranslate"><span class="pre">http://github.com/YOURNAME/fricas</span></code>.</li>
</ol>
</li>
<li><p class="first">Create a clone of your github repository on your local
computer, i.e. create your LOC.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">YOURNAME</span><span class="o">/</span><span class="n">fricas</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>You see a subdirectory “fricas” which contains an (offline)
history of FriCAS sourceforge.net “trunk” in a git repository.</p>
</li>
<li><p class="first">In case you like to see all branches from the FriCAS
sourceforge repository… (This step is optional.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">fricas</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">upstream</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">fricas</span><span class="o">/</span><span class="n">fricas</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>Your repository is now connected to your github clone (to which
you can push, i.e. write to) and the “official” FriCAS mirror
(which is read-only for you).</p>
<p>Get all the other SVN branches and tags… (Note that here you
do not connect to Sourceforge, but rather to Github.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span> <span class="n">upstream</span>
</pre></div>
</div>
</li>
<li><p class="first">The (remote) branch “upstream/master” will be identical to the
“trunk” from the FriCAS sourceforge SVN repository. Check with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gitk</span> <span class="o">--</span><span class="nb">all</span>
</pre></div>
</div>
<p>to see under “upstream/master” what the current latest
official FriCAS development line is. You simply call</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span> <span class="n">upstream</span>
</pre></div>
</div>
<p>in order to update “upstream/master”.</p>
</li>
<li><p class="first">(Optional) You can create a local branch “trunk” which tracks
the “master” branch from upstream (i.e. “fricas” on github).
Your “trunk” branch will mirror the current “trunk” from the
FriCAS sourceforge SVN repository.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="n">trunk</span> <span class="o">--</span><span class="n">track</span> <span class="n">upstream</span><span class="o">/</span><span class="n">master</span>
</pre></div>
</div>
<p>You can bring your local “trunk” branch in sync with the
“master” branch from the FriCAS github repository as follows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">trunk</span>
<span class="n">git</span> <span class="n">pull</span> <span class="n">upstream</span> <span class="n">master</span>     <span class="c1"># or simpy:   git pull</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">YOUR</span><span class="o">-</span><span class="n">PREVIOUS</span><span class="o">-</span><span class="n">BRANCH</span>
</pre></div>
</div>
<p>If you have currently some uncommitted changes, you might
consider wrapping the above commands with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span></code> and
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">pop</span></code>. Always check with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gitk</span> <span class="o">--</span><span class="nb">all</span>
</pre></div>
</div>
<p>what the current situation of your repository is.</p>
</li>
<li><p class="first">Now you have the full power of git at your disposal. Just hack
your code into your copy of the fricas sources commit as often
as you like locally and when you think that others should see
your code, just <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> it to github. You should never
commit to your local “trunk” branch but rather keep it in sync
with SVN “trunk”, i.e. “upstream/master”. Synchronization can
simply be done by a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>, since you have setup the
trunk branch as a tracking branch.</p>
</li>
<li><p class="first">New work should be developed on a branch and should be made
publicly available at github. Unless you have several features
that you develop at the same time, you probably want to develop
on your master branch (which should be identical to
“origin/master”, i.e. the “master” branch on your github
repository). For maximal flexibility, below the new branch name
“foo” is used. Since “master” is not really a particular branch
name for git, you can also replace “foo” by “master”.</p>
<p>Suppose you want to add a new feature to FriCAS, then you
should create a new branch “foo” pointing to “upstream/master”.
Don’t forget to update “upstream/master” (or optionally
“trunk”) as in mentioned above, before you create the new
branch.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="n">foo</span> <span class="n">upstream</span><span class="o">/</span><span class="n">master</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">foo</span>
</pre></div>
</div>
<p>If the branch “foo”, already existed before, then you can force
to create the branch here. Be sure that you know what you are
doing when you use the <code class="docutils literal notranslate"><span class="pre">-f</span></code> flag.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">f</span> <span class="n">foo</span>
</pre></div>
</div>
<p>Now you start editing and committing. If you are finished you
can push your changes back to github. Then tell people about
your new commit.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">foo</span>
</pre></div>
</div>
<p>In case git tells you that your push did not succeed then you
most probably already have a branch “foo” on github and the
push would mean that your github “foo” branch is not in the
history of your new “foo” branch, i.e. it is not a fast-forward
commit. If you know what you are doing, you can still force the
push with the <code class="docutils literal notranslate"><span class="pre">-f</span></code> flag.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="o">-</span><span class="n">f</span> <span class="n">origin</span> <span class="n">foo</span>
</pre></div>
</div>
</li>
<li><p class="first">The foo branch can be removed (locally and on github) if your
changes have made it into the official FriCAS (SVN) repository.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">D</span> <span class="n">foo</span>
<span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="p">:</span><span class="n">foo</span>
</pre></div>
</div>
<p>Note the colon in front of “foo” in the last command. You should
(of course) not delete your “master” branch.</p>
</li>
<li><p class="first">It might happen that your changes collide with changes done on
“trunk”. In that case, it is best to rebase your branch on top
of the latest “trunk” (“upstream/master”). For that you first
commit all changes, fetch the newest commits from
“upstream/master”. Then rebase you branch on top of
“upstream/master”.</p>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="collaborating-with-other-people">
<h2>Collaborating with other people<a class="headerlink" href="#collaborating-with-other-people" title="Permalink to this headline">¶</a></h2>
<p>Once you have PUB and LOC, you can easily share patches with other
people. You simply have to add another remote repository and then
fetch the data from that other repository.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">fricas</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">foo</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">foo</span><span class="o">/</span><span class="n">fricas</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">fetch</span> <span class="n">foo</span>
</pre></div>
</div>
<p>Now you have the branches of “foo” in you local repository and can
investigate them. Use <code class="docutils literal notranslate"><span class="pre">gitk</span> <span class="pre">--all</span></code> in order to see what “foo” has
done. Of course you could already investigate everything directly on
github, but having the published work of “foo” locally in your
repository allows you to git merge or git rebase them to your own
branches.</p>
</div>
<div class="section" id="special-note-to-fricas-developers-with-write-access-to-the-fricas-sourceforge-repository">
<h2>Special note to FriCAS developers with write-access to the FriCAS sourceforge repository<a class="headerlink" href="#special-note-to-fricas-developers-with-write-access-to-the-fricas-sourceforge-repository" title="Permalink to this headline">¶</a></h2>
<p>After you have executed the commads described in <a class="reference internal" href="#how-to-work-with-the-fricas-mirror">How to work with the
FriCAS mirror</a>, you can connect your local git repository back to
Sourceforge so that you will be able to commit directly to the SVN
repository. Just go to your cloned repository and make sure you have
executed step 4 from above, i.e. you got everything from “upstream”.
Then execute the steps starting with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">svn</span> <span class="pre">init</span> <span class="pre">...</span></code>. This may
take some time. (About 5 min or less and definitely less than it took
me to import the FriCAS history in the first place. Actually, it
depends on the time when you contact sourceforge. So try later if it
takes too long.)</p>
<p>Look at the documentation of <a class="reference external" href="https://git-scm.com/docs/git-svn">git svn</a> in order to figure out how <code class="docutils literal notranslate"><span class="pre">git</span>
<span class="pre">svn</span> <span class="pre">dcommit</span></code> will commit back to sourceforge. (You should use this
command with the option <code class="docutils literal notranslate"><span class="pre">--dry-run</span></code> first.)</p>
<p>Look at <a class="reference internal" href="#collaborating-with-other-people">Collaborating with other people</a> to get patches of others
from github. In order to commit them to “trunk”, just <code class="docutils literal notranslate"><span class="pre">git</span>
<span class="pre">cherrypick</span></code> the corresponding patches (easily done with <code class="docutils literal notranslate"><span class="pre">gitk</span>
<span class="pre">--all</span></code> as a GUI, just right-click on a commit). Or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span></code>
them onto the “upstream/master” branch (which should be identical to SVN
“trunk”).</p>
<p>Assume person <code class="docutils literal notranslate"><span class="pre">foo</span></code> has asked you to incorporate his patches that
live in his branch “new-foo” into the main trunk at sourceforge. You
would do the following steps.</p>
<ol class="arabic">
<li><p class="first">If you have uncommitted changes, save them for later. Let’s assume
you are on the branch <code class="docutils literal notranslate"><span class="pre">my-branch</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">stash</span>
</pre></div>
</div>
</li>
<li><p class="first">Make sure trunk is up-to-date.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">trunk</span>
<span class="n">git</span> <span class="n">pull</span>
<span class="n">git</span> <span class="n">svn</span> <span class="n">rebase</span>
</pre></div>
</div>
<p>incorporate foo’s repository as described in
<a class="reference internal" href="#collaborating-with-other-people">Collaborating with other people</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Don&#39;t do the following command, if foo appears in the output of &quot;git remote -v&quot;.</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">foo</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">foo</span><span class="o">/</span><span class="n">fricas</span><span class="o">.</span><span class="n">git</span>
<span class="c1"># Now fetch from foo.</span>
<span class="n">git</span> <span class="n">fetch</span> <span class="n">foo</span>
</pre></div>
</div>
</li>
<li><p class="first">Then checkout the relevant branch and rebase it onto your trunk.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">new</span><span class="o">-</span><span class="n">foo</span>
<span class="n">git</span> <span class="n">rebase</span> <span class="n">trunk</span>
</pre></div>
</div>
</li>
<li><p class="first">If everything went fine (no conflicts), you can now commit back to
sourceforge. But first check with the -vn flags what will actually
be transmitted to sourceforge and check that it will be committed
at the trunk.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">svn</span> <span class="n">dcommit</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">dry</span><span class="o">-</span><span class="n">run</span>
<span class="c1"># If everything is fine then remove &quot;--dry-run&quot;</span>
<span class="n">git</span> <span class="n">svn</span> <span class="n">dcommit</span> <span class="o">-</span><span class="n">v</span>
</pre></div>
</div>
</li>
<li><p class="first">Now you can go back to where you interrupted your work and continue
on “my-branch” with the changes that you stashed away in the
beginning.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span>
<span class="n">git</span> <span class="n">stash</span> <span class="n">pop</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="relevant-links">
<h2>Relevant links<a class="headerlink" href="#relevant-links" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://git.wiki.kernel.org/index.php/GitFaq#How_do_I_mirror_a_SVN_repository_to_git.3F">http://git.wiki.kernel.org/index.php/GitFaq#How_do_I_mirror_a_SVN_repository_to_git.3F</a></li>
<li><a class="reference external" href="http://wiki.gnucash.org/wiki/Git">http://wiki.gnucash.org/wiki/Git</a></li>
</ul>
<p>If you feel like you want to know more about the internals of git read
the article that is linked from
<a class="reference external" href="http://www.newartisans.com/2008/04/git-from-the-bottom-up">http://www.newartisans.com/2008/04/git-from-the-bottom-up</a>. Getting
more information about version control with Git</p>
<p>There is a lot of git documentation in the net. Usually using google
with something like “git add”, “git commit”, “git push”, will lead you
to an appropriate help page. Otherwise there is</p>
<ul class="simple">
<li><a class="reference external" href="http://git-scm.com/">http://git-scm.com/</a></li>
<li><a class="reference external" href="http://gitready.com/">http://gitready.com/</a></li>
<li><a class="reference external" href="http://www.lostechies.com/blogs/joshuaflanagan/archive/2010/09/03/use-gitk-to-understand-git.aspx">Use gitk to understand git</a></li>
<li><a class="reference external" href="http://cheat.errtheblog.com/s/git">Git Cheat Sheet</a></li>
<li><a class="reference external" href="https://git.wiki.kernel.org/index.php/Main_Page">Git Wiki</a></li>
</ul>
<hr class="docutils" />
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">FriCAS API</a><ul class="simple">
</ul>
</li>
</ul>
</div>
<ul class="simple">
<li><a class="reference external" href="http://fricas.sourceforge.net">Official FriCAS Homepage</a></li>
<li><a class="reference external" href="https://github.com/fricas/fricas">FriCAS Git Repository</a></li>
<li><a class="reference external" href="http://fricas.github.io/">FriCAS Documentation Homepage</a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">FriCAS API</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/fricas-git.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="citation.html" title="Citation"
             >next</a> |</li>
        <li class="right" >
          <a href="spadstyleguide.html" title="SPAD Style Guide"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FriCAS 1.3.5</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="development.html" >Development</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2019, FriCAS Team.
      Last updated on Oct 03, 2019.
    </div>
  </body>
</html>